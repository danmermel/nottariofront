---
layout: default
title: Notarisation Certificate
---
  <h1>{{ page.title }}</h1>
  <table  class="table table-striped">
    <tr><th>Address</th><td><a href="" id="address" target="_new"></a></td></tr>
    <tr><th>Name</th><td id="name"></td></tr>
    <tr><th>File type</th><td id="type"></td></tr>
    <tr><th>Size</th><td id="size"></td></tr>
    <tr><th>Last modified</th><td id="lastModified"></td></tr>
    <tr><th>Hash</th><td id="hash"></td></tr>
    <tr><th>Committed to the Blockchain on </th><td id="timestamp"></td></tr>
  </table>

  <section>
       <div class="container">
         <div class="row">
           <div class="col-lg-12 text-center">

               <h3>Use this page to verify whether a document matches the one notarised on this certificate. To verify, drag and drop a file into the dropzone</h3>
               <hr class="star-light">
               <div id="drop_zone" ondrop="verify_file(event);" ondragover="allowDrop(event)" ondragleave="dragout(event)">
                 <strong>Drop Zone ...</strong>
               </div>
               <div id="verified" class="verified">VERIFIED! The dropped document matches the one submitted to the blockchain!</div>
               <div id="unverified" class="unverified">NOT VERIFIED! The dropped document does NOT match the one submitted to the blockchain :-(</div>
           </div>
        </div>
      </div>
  </section>


  <script>
     var id = window.location.search.replace(/^\?/,'')
     console.log(id);
     var contract = {};
     var action_url = '{{ site.get_lambda }}'
     $.ajax({
       type: 'POST',
       url: action_url,
       data: { id: id },
       error: function(e) {
         console.log('error',e);
       },
       success: function(d) {
         console.log(d)
         contract = d 
         $('#address').html(d.eth_contract_id)
         $('#address').attr('href','https://etherscan.io/address/'+d.eth_contract_id)
         $('#status').html(JSON.stringify(d));
         $('#name').html(d.name)
         $('#hash').html(d.hash)
         var lastmod = new Date(parseInt(d.lastModified))
         $('#lastModified').html(lastmod)
         $('#type').html(d.type)
         $('#size').html(d.size)
         var compdate = new Date (d.completed_date)
         $('#timestamp').html(compdate)
         $("#drop_zone").show();
       }
     })

  $('#verified').hide()
  $('#unverified').hide();

  </script>

